<div class="flex flex-col flex-auto min-w-0">
    <!-- Main -->
    <div class="flex-auto p-6 sm:p-10">
        <h2 class="text-3xl font-bold mb-4">Vehicles</h2>
        <div class="flex justify-end mb-4">
            <button
                mat-flat-button
                color="primary"
                (click)="openVehicleDialog()"
            >
                <mat-icon>add</mat-icon>
                New vehicle
            </button>
        </div>
        <div
            class="flex flex-col flex-auto bg-card shadow rounded-2xl overflow-hidden"
        >
            <div class="overflow-x-auto mx-6">
                <table
                    class="w-full"
                    mat-table
                    [dataSource]="vehiclesDataSource"
                    matSort
                >
                    <ng-container matColumnDef="brand">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Brand</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.brand }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="model">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Model</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.model }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="vin">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Vin</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.vin }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="plate">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Plate</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.plate }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="purchase_date">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Purchase Date</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.purchase_date | date : "MMM dd, y" }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="cost">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Cost</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.cost }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="entry_date">
                        <th mat-header-cell mat-sort-header *matHeaderCellDef>Entry Date</th>
                        <td mat-cell *matCellDef="let element">
                            {{ element.entry_date | date : "MMM dd, y" }}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef>
                            <span class="sr-only">Actions</span>
                        </th>
                        <td mat-cell *matCellDef="let element; let i = index">
                            <button mat-icon-button [matMenuTriggerFor]="menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button
                                    mat-menu-item
                                    (click)="openVehicleDialog(element)"
                                >
                                    <mat-icon>edit</mat-icon>
                                    <span>Edit</span>
                                </button>
                                <button
                                    mat-menu-item
                                    (click)="deleteVehicle(element.id)"
                                >
                                    <mat-icon color="warn">delete</mat-icon>
                                    <span>Delete</span>
                                </button>
                            </mat-menu>
                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr
                        mat-row
                        *matRowDef="let row; columns: displayedColumns"
                    ></tr>
                </table>
                <div class="flex justify-end">
                    <mat-paginator
                        [hidePageSize]="true"
                        [pageSize]="10"
                        showFirstLastButtons
                    >
                    </mat-paginator>
                </div>
            </div>
        </div>
    </div>
</div>
